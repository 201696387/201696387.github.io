<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JFM`s Portfolio</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/w3.css">
    <link rel="stylesheet" href="css/font-awesome.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/portfolio.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.5.1/pixi.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
<body class="w3-black w3-content" style="max-width:1200px;">

<!-- !PAGE CONTENT! -->
<div class="w3-main w3-white"  style="min-height: 100vh;">

    <!-- Top header -->
    <div class="w3-container">
        <div class="w3-padding-large w3-text-black">
            <h1>The Mobile App Dev's Portfolio Gallery</h1>
        </div>
    </div>

    <!-- Resume -->
    <div class="w3-container w3-white w3-padding-large" id="resume">
        <div id="frame" class="frame" />
    </div>

</div>


<script>
    var app;

    var menuScene;

    var music;
    var bgImageURL;

    var frame = $('#frame');
    var width = frame.width();
    var height = width*(600/800);

    window.onload = function () {
        app = new PIXI.Application(width, height, {transparent: true});

        frame.append(app.view); //jQuery Method
        //document.getElementById("frame").appendChild(app.view); //DOM Method

        loadGallery();

        //loadMusicVizualiser(app);
        //loadFighterScene(app);

        /*
        // Listen for animate update
        app.ticker.add(function(delta) {
            // just for fun, let's rotate mr rabbit a little
            // delta is 1 if running at 100% performance
            // creates frame-independent tranformation
            ship.rotation += 0.1 * delta;
        });//*/
    }

    function loadGallery(){
        frame.css('background-image','url(css/black_thread.png)')
        app.renderer.backgroundColor = 0x061639;

        var leftArr = PIXI.Sprite.fromImage('img/sprite/left_arrow.png');
        leftArr.anchor.set(0.5);
        leftArr.x = 32;
        leftArr.y = app.screen.height / 2;

        var rightArr = PIXI.Sprite.fromImage('img/sprite/right_arrow.png');
        rightArr.anchor.set(0.5);
        rightArr.x = app.screen.width-32;
        rightArr.y = app.screen.height / 2;

        var musicViz = PIXI.Sprite.fromImage('img/sprite/musicViz.png');
        musicViz.anchor.set(0.5);
        musicViz.x = app.screen.width / 2;
        musicViz.y = app.screen.height / 2;

        var galleryContainer = new PIXI.Container();
        galleryContainer.addChild(musicViz);

        leftArr.interactive = true;
        leftArr.buttonMode = true;
        leftArr.on('click', moveLeft);
        leftArr.on('tap', moveLeft);

        rightArr.interactive = true;
        rightArr.buttonMode = true;
        rightArr.on('click', moveRight);
        rightArr.on('tap', moveRight);

        menuScene = new PIXI.Container();
        menuScene.addChild(leftArr);
        menuScene.addChild(rightArr);
        menuScene.addChild(galleryContainer);

        app.stage.addChild(menuScene);
    }

    function moveLeft(){

    }

    function moveRight(){

    }

    function loadMusicVizualiser() {
        frame.fadeOut(1000, function(){
           frame.css('background-color','black');
           frame.fadeIn(1000);
        });
    }
    
    function loadFighterScene() {
        frame.css('background-image','url(css/space.png)');

        // create a new Sprite from an image path
        var ship = PIXI.Sprite.fromImage('img/sprite/fighter.png');

        // center the sprite's anchor point
        ship.anchor.set(0.5);

        ship.scale.x *= 0.2;
        ship.scale.y *= 0.2;

        // move the sprite to the center of the screen
        ship.x = app.screen.width / 2;
        ship.y = app.screen.height / 2;

        app.stage.addChild(ship);
    }
</script>
</body>
</html>